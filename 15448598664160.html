<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  网络协议总结 - 北哥传奇
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="北哥传奇" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">北哥传奇</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; 北哥传奇</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>前言</label></li>

          
            <li><a title="开始自己的博客啦" href="15346723413820.html">开始自己的博客啦</a></li>
          

      
        <li class="divider"></li>
        <li><label>软件开发</label></li>

          

      
        <li class="divider"></li>
        <li><label>音视频技术</label></li>

          
            <li><a title="基础实践系列之实现解码功能" href="15429468991101.html">基础实践系列之实现解码功能</a></li>
          
            <li><a title="基础实践系列之编译成iOS可用的.a静态库" href="15429406911904.html">基础实践系列之编译成iOS可用的.a静态库</a></li>
          
            <li><a title="FFMPEG视音频基础探索-API(系列二)" href="15427852627727.html">FFMPEG视音频基础探索-API(系列二)</a></li>
          
            <li><a title="FFMPEG视音频基础探索-命令行(系列一)" href="15427812231625.html">FFMPEG视音频基础探索-命令行(系列一)</a></li>
          
            <li><a title="UDP-RTP协议解析（基础系列六）" href="15427692957422.html">UDP-RTP协议解析（基础系列六）</a></li>
          
            <li><a title="FLV封装格式解析（基础系列五）" href="15427076070232.html">FLV封装格式解析（基础系列五）</a></li>
          
            <li><a title="AAC音频码流解析（基础系列四）" href="15427004394453.html">AAC音频码流解析（基础系列四）</a></li>
          
            <li><a title="H.264视频码流解析（基础系列三）" href="15426950827326.html">H.264视频码流解析（基础系列三）</a></li>
          
            <li><a title="音频采样数据处理（基础系列二）" href="15426806992852.html">音频采样数据处理（基础系列二）</a></li>
          
            <li><a title="视频像素数据处理(基础系列一)" href="15426223369165.html">视频像素数据处理(基础系列一)</a></li>
          
            <li><a title="[TOC]" href="15420339112607.html">[TOC]</a></li>
          

      
        <li class="divider"></li>
        <li><label>金融理论</label></li>

          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>前言</span></li>
                        
                          <li><a title="开始自己的博客啦" href="15346723413820.html">开始自己的博客啦</a></li>
                        

                    
                      <li class="side-title"><span>软件开发</span></li>
                        

                    
                      <li class="side-title"><span>音视频技术</span></li>
                        
                          <li><a title="基础实践系列之实现解码功能" href="15429468991101.html">基础实践系列之实现解码功能</a></li>
                        
                          <li><a title="基础实践系列之编译成iOS可用的.a静态库" href="15429406911904.html">基础实践系列之编译成iOS可用的.a静态库</a></li>
                        
                          <li><a title="FFMPEG视音频基础探索-API(系列二)" href="15427852627727.html">FFMPEG视音频基础探索-API(系列二)</a></li>
                        
                          <li><a title="FFMPEG视音频基础探索-命令行(系列一)" href="15427812231625.html">FFMPEG视音频基础探索-命令行(系列一)</a></li>
                        
                          <li><a title="UDP-RTP协议解析（基础系列六）" href="15427692957422.html">UDP-RTP协议解析（基础系列六）</a></li>
                        
                          <li><a title="FLV封装格式解析（基础系列五）" href="15427076070232.html">FLV封装格式解析（基础系列五）</a></li>
                        
                          <li><a title="AAC音频码流解析（基础系列四）" href="15427004394453.html">AAC音频码流解析（基础系列四）</a></li>
                        
                          <li><a title="H.264视频码流解析（基础系列三）" href="15426950827326.html">H.264视频码流解析（基础系列三）</a></li>
                        
                          <li><a title="音频采样数据处理（基础系列二）" href="15426806992852.html">音频采样数据处理（基础系列二）</a></li>
                        
                          <li><a title="视频像素数据处理(基础系列一)" href="15426223369165.html">视频像素数据处理(基础系列一)</a></li>
                        
                          <li><a title="[TOC]" href="15420339112607.html">[TOC]</a></li>
                        

                    
                      <li class="side-title"><span>金融理论</span></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>网络协议总结</h1>

<h2 id="toc_0">网络协议层次</h2>

<p>应用层：HTTP,HTTPS,RTMP,DHCP,DNS,P2P<br/>
传输层：TP，UDP<br/>
网络层：IP,ICMP,OSPF,BGP<br/>
链路层：ARP,VLAN,STP<br/>
物理层</p>

<h2 id="toc_1">2层设备，3层设备</h2>

<h2 id="toc_2">IP</h2>

<h3 id="toc_3">IP组成</h3>

<p>IP地址由网络地址和主机地址共同组成。下面两种分类方法去定义IP的网络地址与主机地址。<br/>
- 传统地址分类<br/>
A,B,C,D类，现在基本不用</p>

<ul>
<li>无类型域间选路即CIDR（<strong>目前采用的方案，泳衣解决传统分类IP浪费的问题</strong>）

<ul>
<li>子网掩码的表示形式</li>
<li>16.158.165.91/22</li>
</ul></li>
</ul>

<h3 id="toc_4">公有IP地址和私有IP地址</h3>

<p>将<code>192.168.0.0~192.168.255.255</code>之间的地址定义为私有地址。也就是在同一公有IP的网络里唯一，在不同的IP网络里可能相同。这样在结合NAT技术解决通讯问题。<strong>这是目前采用的方案，用以解决IP即将耗尽的问题</strong></p>

<h2 id="toc_5">动态主机配置协议(DHCP)</h2>

<h2 id="toc_6">ARP协议</h2>

<ul>
<li><p>集线器<br/>
全部是用广播</p></li>
<li><p>交换机<br/>
刚开始是广播，通过自学习能力的完善转发表，知道了到达的MAC地址的设备口。就可以定向转发。</p></li>
</ul>

<h2 id="toc_7">ICMP协议</h2>

<p><img src="media/15448598664160/23aecf653d60dd94b7c5c6dc21ca21ff.jpg" alt="23aecf653d60dd94b7c5c6dc21ca21ff"/></p>

<ul>
<li><p>ping <br/>
就是利用ICMP协议的<strong>查询报文</strong></p></li>
<li><p>traceroute<br/>
就是利用ICMP的<strong>差错报文</strong></p></li>
</ul>

<h2 id="toc_8">公有IP与私有IP的应用</h2>

<p>有NAT路由设备，将公有IP映射成私有IP,进关,将私有IP映射成公有IP，出关。此种模式就是”玄奘西行&quot;，在出关时需要换成公有IP。即很多路由器支持的NAT转换。这里的公网就是运营商的地址。<br/>
那么这个这里有个疑问，isp服务商</p>

<h2 id="toc_9">路由协议</h2>

<ul>
<li>静态路由策略（手动配置）</li>
<li>动态路由算法(自动配置)
距离矢量路由算法,基于距离矢量路由算法的BGP
链路状态路由算法,基于链路状态路由算法的OSPF</li>
</ul>

<h2 id="toc_10">传输层</h2>

<p>UDP与TCP的区别<br/>
所谓的建立连接，是为了在客户端和服务端连接，而建立一定的数据结构来维护双方交互的状态(连接实际上就是<strong>连接就是两端的状态维护</strong>)。用这样的数据结构来保证所谓的面向连接的特性。<br/>
TCP提供可靠交付。保证数据的无差错，不丢失，不重复，并按顺序到达。<strong>是一种由状态的服务</strong>。提供拥塞控制。</p>

<p>UDP<br/>
UDP继承了IP数据报的原始特性，一个个发一个个地接收。不管网络情况，一个劲的发。</p>

<ul>
<li>UDP
<img src="media/15448598664160/6d1313f51b9dfd7ab454b2cef1cb37bf.jpg" alt="6d1313f51b9dfd7ab454b2cef1cb37bf"/></li>
</ul>

<p>UDP的几个例子<br/>
1. Google推出的QUIC是基于UDP改进的通信协议，其目的是降低网路通信的延迟<br/>
2. 很多直播都会基于UDP实现自己的视频传输协议<br/>
3. 很多实时游戏会采用自定义的可靠UDP协议，来自定义重传策略，将丢包降低到最低<br/>
4. 物联网，很多嵌入式设备不能处理打量的数据结构，基于UDP实现网络通信</p>

<ul>
<li>TCP
<img src="media/15448598664160/a795461effcce686a43f48e094c9adbf.jpg" alt="a795461effcce686a43f48e094c9adbf"/>
TCP的三次握手
为什么是三次握手：保证双方的消息都<strong>有去有回</strong>。就是建立连接了。</li>
</ul>

<p>TCP的四次分手<br/>
分手过程，要保证各端的数据都发送完了。才真正结束。</p>

<p>顺序问题<br/>
超时重传<br/>
流量控制<br/>
拥塞控制</p>

<h2 id="toc_11">应用层协议</h2>

<ul>
<li>HTTP</li>
</ul>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15453592839286.html"  title="Previous Post: Git 拾遗">&laquo; Git 拾遗</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15444947240000.html" 
	        title="Next Post: C语言拾遗">C语言拾遗 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15448598664160.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
